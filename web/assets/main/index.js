System.register("chunks:///_virtual/Data.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"81fe1GDHlRP6IC+Uz3mUa1t","Data",void 0);t("FrameData",function(){function t(){this.frame=-1,this.mapSize=0,this.mapData=[],this.playerCount=0,this.players=[],this.itemCount=0,this.items=[]}return t.reset=function(t){t.frame=-1,t.playerCount=0,t.mapSize=0,t.players.splice(0,t.players.length),t.items.splice(0,t.items.length)},t.parse=function(t,e,a,r){if(a.frame=t.getUint32(e),e+=4,a.mapSize=t.getUint32(e),e+=4,t.byteLength>e)for(var s=0,o=0;o<a.mapSize;o++){var u=t.getInt8(e);e+=1;var p=(240&u)>>4,c=15&u;a.mapData[s]=p,s+=1,a.mapData[s]=c,s+=1}if(t.byteLength>e){a.playerCount=t.getUint32(e),e+=4;for(var f=0;f<a.playerCount;f++){var l=r.createPlayerData();e=i.parse(t,e,l),a.players.push(l)}}if(t.byteLength>e){a.itemCount=t.getUint32(e),e+=4;for(var h=0;h<a.itemCount;h++){var y=r.createItemData();e=n.parse(t,e,y),a.items.push(y)}}return e},t}());var i=t("PlayerData",function(){function t(){this.id=null,this.rotation=0,this.x=0,this.y=0}return t.parse=function(t,e,i){return t.getBigUint64 instanceof Function&&(i.id=t.getBigUint64(e)+""),e+=8,i.rotation=t.getInt16(e),e+=2,i.x=t.getFloat64(e),e+=8,i.y=t.getFloat64(e),e+=8},t.reset=function(t){t.rotation=0,t.id=null,t.x=0,t.y=0},t}()),n=t("ItemData",function(){function t(){this.id=0,this.type=0,this.x=0,this.y=0}return t.parse=function(t,e,i){return i.id=t.getUint32(e),e+=4,i.type=t.getUint8(e),e+=1,i.x=t.getFloat64(e),e+=8,i.y=t.getFloat64(e),e+=8},t.reset=function(t){t.id=0,t.x=0,t.y=0,t.type=0},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DataFactory.ts",["cc","./Data.ts"],(function(a){"use strict";var t,e,o,r;return{setters:[function(a){t=a.cclegacy},function(a){e=a.PlayerData,o=a.ItemData,r=a.FrameData}],execute:function(){t._RF.push({},"5c1697J7GxOeLiFJVoOqhmO","DataFactory",void 0);a("default",function(){function a(){this._preRecoveryFrameDataPool=null,this._frameDataPool=null,this._playerDataPool=null,this._itemDataPool=null,this._preRecoveryFrameDataPool=[],this._frameDataPool=[],this._playerDataPool=[],this._itemDataPool=[]}var t=a.prototype;return t.exePreDelQueue=function(){for(;this._preRecoveryFrameDataPool.length>0;){var a=this._preRecoveryFrameDataPool.pop();this.addFrameDataToPool(a)}},t.addFrameDataToPreRePool=function(a){this._preRecoveryFrameDataPool.push(a)},t.addFrameDataToPool=function(a){for(var t=0;t<a.players.length;t++){var l=a.players.pop();e.reset(l),this._playerDataPool.push(l)}for(var i=0;i<a.items.length;i++){var n=a.items.pop();o.reset(n),this._itemDataPool.push(n)}r.reset(a),this._frameDataPool.push(a)},t.recoveryFrameData=function(a){for(;a.length>0;){var t=a.pop();this.addFrameDataToPreRePool(t)}},t.createFrameData=function(){return this._frameDataPool.length>0?this._frameDataPool.pop():new r},t.createPlayerData=function(){if(this._playerDataPool.length>0){var a=this._playerDataPool.pop();return e.reset(a),a}return new e},t.createItemData=function(){if(this._itemDataPool.length>0){var a=this._itemDataPool.pop();return o.reset(a),a}return new o},a}());t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Map.ts","./Network.ts","./SettlementPanel.ts","./TerritoryProtocol.ts","./NetErrorPanel.ts","./Data.ts","./DataFactory.ts"],(function(e){"use strict";var t,a,i,n,o,r,s,l,h,c,m,_,u,f,p,d,g,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,r=e.Camera,s=e.Node,l=e._decorator,h=e.view,c=e.Component},function(e){m=e.default},function(e){_=e.default},function(e){u=e.SettlementPanel},function(e){f=e.TerritoryPackage,p=e.TerritoryMessage,d=e.TerritoryProtocol},function(e){g=e.NetErrorPanel},function(e){y=e.FrameData},function(e){v=e.default}],execute:function(){var D,w,L,b,P,R,E,T,N,I,S,C,F,x,O,M,z,U,k;o._RF.push({},"8c8f31HD4BPda6Sr6so8eIe","LoadingScene",void 0);var j=l,H=j.ccclass,G=j.property,A=window.Base64,B=window.game||{game_ws_url:null};window.game=B;e("LoadingScene",(D=H("LoadingScene"),w=G(r),L=G(s),b=G(s),P=G(s),R=G(s),E=G(u),T=G(g),N=G(s),D((C=t((S=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"uiCamera",C,n(t)),i(t,"mapLayer",F,n(t)),i(t,"playerLayer",x,n(t)),i(t,"iconLayer",O,n(t)),i(t,"teamNodeTemp",M,n(t)),i(t,"settlementPanel",z,n(t)),i(t,"netErrorPanel",U,n(t)),i(t,"logoNode",k,n(t)),t._map=null,t._net=null,t._factory=null,t._frameTime=.04,t._frameDt=0,t._frameIndex=-1,t._frameDatas=[],t._netConnected=!1,t._maploaded=!1,t._gameOver=!1,t._netError=!1,t._joinRoomFailTimes=0,t._remoteFrame=0,t._logLevel=1,t._mapData={rows:30,cols:40,gridWid:20,gridHei:20,players:null,items:null},t}a(t,e);var o=t.prototype;return o.onNetDisconnect=function(){this._logLevel>=1&&console.log("Net.onNetDisconnect"),this._netError||(this._netError=!0,0==this.netErrorPanel.isShow&&this.netErrorPanel.showUI())},o.onNetReconnect=function(){this._logLevel>=1&&console.log("Net.onNetReconnect"),this._netError&&(this._netError=!1)},o.setLogLevel=function(e){this._logLevel=e,this._net&&this._net.setLogLevel(e)},o.onPushMsg=function(e,t){if("onJoin"==e||"onReplay"==e)this._mapData.rows=parseInt(t.row),this._mapData.cols=parseInt(t.column),this._mapData.gridWid=parseInt(t.cell_width),this._mapData.gridHei=parseInt(t.cell_height),this._mapData.players=t.players,this._mapData.items=t.items,this._netConnected=!0,this._frameIndex=-1,this._factory.recoveryFrameData(this._frameDatas),this.checkGameReady();else if("onGameStop"==e)if(0==this._gameOver){this._gameOver=!0,this._logLevel>=3&&console.log("onGameStop.body = ",t);var a={winner:t.winner,cd:t.next_count_down};this.settlementPanel.showUI(a,(function(){}))}else this._logLevel>=1&&console.error("The game is over!");else if("onPlayerJoin"==e)t.player_id?this._map.createPlayer(-1,t.player_id+"",!0):this._logLevel>=1&&console.log("onPlayerJoin.body.player_id is null",t);else if("onUpdate"==e)if(A){var i=this._factory.createFrameData(),n=A.toUint8Array(t.data),o=new DataView(n.buffer);y.parse(o,0,i,this._factory);if(null==o.getBigUint64&&this._logLevel>=1&&console.error("[ERROR] DataView.getBigUint64 function not found!"),-1==this._frameIndex){this._frameIndex=i.frame,this.iconLayer.active=!0;for(var r=0;r<i.playerCount;r++){var s=i.players[r];this._map.updatePlayer(s.id,s.x,s.y,!0)}}this._remoteFrame=i.frame,this._frameDatas.push(i)}else this._logLevel>=1&&console.error("Base64 not found!");else this._logLevel>=1&&console.error("onPushMsg: todo route/body = ",e,t)},o.onRequestMsg=function(e,t){},o.checkGameReady=function(){if(this._maploaded&&this._netConnected){if(this._gameOver&&(this._gameOver=!1,this._factory.recoveryFrameData(this._frameDatas),this.settlementPanel.closeUI()),this._frameIndex=-1,this.iconLayer.active=!1,this._map.init(this._mapData.rows,this._mapData.cols,this._mapData.gridWid,this._mapData.gridHei),this._map.initItemAssets(this._mapData.items),this._mapData.players&&this._mapData.players.length>0)for(var e=0;e<this._mapData.players.length;e++)this._map.createPlayer(-1,this._mapData.players[e].player_id+"",!0);else this._logLevel&&console.warn("onJoin: players is null!");this._frameDt=this._frameTime}},o.onMapComplete=function(){this._maploaded=!0,this.checkGameReady()},o.connectNetwork=function(){var e=this;this._net.on(_.Event.ON_PUSH,this.onPushMsg,this),this._net.on(_.Event.ON_MSG,this.onRequestMsg,this),this._net.on(_.Event.DISCONNECT,this.onNetDisconnect,this),this._net.on(_.Event.RECONNECT,this.onNetReconnect,this),this._net.on(_.Event.HEARTBEAT_TIMEOUT,this.onNetReconnect,this);var t=B.game_ws_url,a=window.location.href.indexOf("?");if(a>=0){var i=window.location.href.substring(a+1);i&&i.length>0&&(t=i)}t=t||"ws://localhost:3250",this._net.init({url:t,package:new f,message:new p,protocol:new d,maxReconnectAttempts:50,needSeedHandshake:!0,reconnect:!0,logLevel:this._logLevel},(function(){e.joinRoom()})),this._net.addLogRouteFilter("onUpdate")},o.onGameJoinRes=function(e){var t=this;this._logLevel>=3&&console.log("request: data = ",e),0==e.code?(this._joinRoomFailTimes=0,this.netErrorPanel.closeUI()):(this._joinRoomFailTimes+=1,setTimeout((function(){t.joinRoom()}),2e3*this._joinRoomFailTimes))},o.joinRoom=function(){this._net.request("game.join",{},this.onGameJoinRes.bind(this))},o.onLoad=function(){var e=h.getVisibleSize();this.uiCamera.orthoHeight=e.height/2,this.iconLayer.active=!1,this._net=new _,this._factory=new v,B.setLogLevel=this.setLogLevel.bind(this),this._map=new m(this.mapLayer,this.playerLayer,this.iconLayer,this.teamNodeTemp),this._map.on(m.Event.LOAD_COMPLETE,this.onMapComplete,this),this._map.load(),this.connectNetwork()},o.update=function(e){if(this._frameDt+=e,this._frameDt>=this._frameTime&&(this._factory.exePreDelQueue(),this._frameTime=0,this._frameDatas.length>0)){var t=this._frameDatas[0];if(null!=t)if(t.frame===this._frameIndex){t=this._frameDatas.shift();for(var a=0;a<t.mapData.length;a++)this._map.updateTerritory(a,t.mapData[a]);for(var i=0;i<t.players.length;i++){var n=t.players[i];this._map.updatePlayer(n.id,n.x,n.y,!0)}this._map.updateItems(t.items),this._factory.addFrameDataToPreRePool(t),this._frameIndex+=1}else this._frameDatas.sort(this.frameSort.bind(this))}},o.frameSort=function(e,t){return e.frame>t.frame?1:e.frame<t.frame?-1:0},t}(c)).prototype,"uiCamera",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(S.prototype,"mapLayer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(S.prototype,"playerLayer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(S.prototype,"iconLayer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(S.prototype,"teamNodeTemp",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"settlementPanel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(S.prototype,"netErrorPanel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(S.prototype,"logoNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./LoadingScene.ts","./MapTest.ts","./NFTSDK.ts","./Net.ts","./Data.ts","./DataFactory.ts","./Map.ts","./Player.ts","./Territory.ts","./Network.ts","./ProtocolBase.ts","./TerritoryProtocol.ts","./NetErrorPanel.ts","./SettlementPanel.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Map.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Territory.ts","./Player.ts"],(function(t){"use strict";var e,i,r,o,s,a,n,l,_,d,h,p,m,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t.assetManager,o=t.resources,s=t.SpriteFrame,a=t.instantiate,n=t.Sprite,l=t.UITransform,_=t.Node,d=t.Color,h=t.Texture2D,p=t.EventTarget},function(t){m=t.Territory},function(t){u=t.Player}],execute:function(){i._RF.push({},"77ea825CDZMyZpgSDM0DHTr","Map",void 0),t("default",function(t){function i(e,i,r,o){var s;(s=t.call(this)||this)._mapLayer=null,s._iconLayer=null,s._playerLayer=null,s._rows=30,s._cols=40,s._gridNodeTemp=null,s._gridWid=20,s._gridHei=20,s._territorys=null,s._avatars=null,s._itemAssets=null,s._players=null,s._items=null,s._loaded=!1,s._teamColors=null,s._mapOffsetX=0,s._mapOffsetY=0,s._mapWidth=840,s._mapHeight=630,s._gridNodePool=[],s._playerNodePool=[],s._itemNodePool=[],s._liveItems=[],s._mapLayer=e,s._iconLayer=r,s._playerLayer=i,s._gridNodeTemp=o,s._territorys=new Array,s._avatars=[],s._players={},s._itemAssets={},s._items={},s._teamColors=[d.WHITE];var a=new d;return s._teamColors.push(d.fromHEX(a,"#F7931A")),a=new d,s._teamColors.push(d.fromHEX(a,"#627EEA")),a=new d,s._teamColors.push(d.fromHEX(a,"#F0BB10")),a=new d,s._teamColors.push(d.fromHEX(a,"#E84142")),a=new d,s._teamColors.push(d.fromHEX(a,"#8247E5")),s}e(i,t);var p=i.prototype;return p.init=function(t,e,i,r){this._rows=t,this._cols=e,this._gridWid=i,this._gridHei=r,this.resetPlayer(),this.createMap()},p.initItemAssets=function(t){for(var e in t){var i=t[e];this._itemAssets[i.type]={type:i.type,url:i.thumbnail},r.loadRemote(i.thumbnail,(function(t,e){t&&console.log(t)}))}},p.load=function(){this._loaded=!1,o.loadDir("./avatars",s,this.onLoadResComplete.bind(this))},p.onLoadResComplete=function(t,e){if(t)return console.error("avatar load error!"),void this.emit(i.Event.LOAD_ERROR);console.log("game load complete.");for(var r=0;r<e.length;r++)e[r].addRef(),this._avatars.push(e[r]);this._loaded=!0,this.emit(i.Event.LOAD_COMPLETE),console.log("game init complete. avatar count = "+this._avatars.length)},p.createMap=function(){for(var t=0;t<this._territorys.length;t++){var e=this._territorys[t];e&&(e.node.parent=null,this._gridNodePool.push(e))}this._territorys.splice(0,this._territorys.length);for(var i=this._rows,r=this._cols,o=this._gridWid,s=this._gridHei,_=-(r*o+r)/2+o/2,d=(i*s+i)/2-s/2,h=0;h<i;h++)for(var p=0;p<r;p++){var u=this._gridNodePool.pop(),f=null;null==u?(u=(f=a(this._gridNodeTemp)).addComponent(m),f.active=!0):u=(f=u.node).getComponent(m),f.getComponent(n).color=this._teamColors[0],this._mapLayer.addChild(f);var y=f.getComponent(l);y&&y.setContentSize(this._gridWid,this._gridHei),f.setPosition(_+p*(o+1),d-h*(s+1)),u.gridX=p,u.gridY=h,u.teamId=-1,u.map=this,u.index=u.gridY*r+u.gridX,this._territorys[u.index]=u}this._mapOffsetX=_-o/2,this._mapOffsetY=d+s/2},p.reset=function(){this.resetPlayer(),this.createMap()},p.resetPlayer=function(){if(this._players){for(var t in this._players){var e=this._players[t];e&&(this._playerLayer.removeChild(e.node),this._playerNodePool.push(e))}this._players={}}},p.gridToMapPosition=function(t,e,i){i&&(i.x=this._mapOffsetX+t*(this._gridWid+1),i.y=this._mapOffsetY-e*(this._gridHei+1))},p.indexToMapPosition=function(t,e){if(e){var i=Math.floor(t%this._cols),r=Math.floor(t/this._cols);e.x=this._mapOffsetX+i*(this._gridWid+1),e.y=this._mapOffsetY-r*(this._gridHei+1)}},p.gridToIndex=function(t,e){return e*this._cols+t},p.mapToGrid=function(t,e){e.x=Math.floor((t.x-this._mapOffsetX)/(this._gridWid+1)),e.y=Math.floor((-t.y+this._mapOffsetY)/(this._gridHei+1))},p.createPlayer=function(t,e,i,r){void 0===i&&(i=!1),void 0===r&&(r=-1);var o=null,s=this._playerNodePool.pop(),a=null,d=null;return null!=s?((o=s.node).name="team_"+t,a=o.getComponent(l),d=o.getComponent(n)):(s=(o=new _("team_"+t)).addComponent(u),a=o.addComponent(l),d=o.addComponent(n)),o.layer=this._playerLayer.layer,o.setPosition(4*this._mapWidth,50*this._playerLayer.children.length),null==this._avatars[r]&&(r=Math.ceil((this._avatars.length-1)*Math.random())),d.spriteFrame=this._avatars[r],d.sizeMode=n.SizeMode.CUSTOM,a.setContentSize(30,30),s.width=30,s.height=30,s.teamId=t,s.playerId=e,s.map=this,i&&this.addPlayer(s),s},p.addPlayer=function(t){this._playerLayer.addChild(t.node),this._players[t.playerId]=t},p.updatePlayer=function(t,e,i,r){void 0===r&&(r=!1);var o=this._players[t];o&&o.setPosition(this._mapOffsetX+e,this._mapOffsetY-i,r)},p.updateTerritory=function(t,e){var i=this._teamColors[e],r=this._territorys[t];i&&r&&(r.teamId=e,r.color=i)},p.updateItems=function(t){var e=this;this._liveItems.splice(0,this._liveItems.length);for(var i=function(i){var o=t[i],a=e._items[o.id];if(null==a){var d=e._itemAssets[o.type];if(d){a=e._itemNodePool.pop();var p=null,m=null;null==a?(m=(a=new _("item_"+o.id)).addComponent(l),(p=a.addComponent(n)).sizeMode=n.SizeMode.CUSTOM,p.spriteFrame=new s,m.setContentSize(30,30)):(a.name="item_"+o.id,p=a.getComponent(n)),r.loadRemote(d.url,(function(t,i){if(null==t){var r=new h;r.image=i;var o=p.spriteFrame;p.spriteFrame=null,o.texture=r,p.spriteFrame=o,a.layer=e._iconLayer.layer,e._iconLayer.addChild(a)}})),e._items[o.id]=a,a.setPosition(e._mapOffsetX+o.x,e._mapOffsetY-o.y)}}else a.setPosition(e._mapOffsetX+o.x,e._mapOffsetY-o.y);e._liveItems.push(o.id.toString())},o=0;o<t.length;o++)i(o);for(var a in this._items){if(this._liveItems.indexOf(a)<0){var d=this._items[a];d&&(this._iconLayer.removeChild(d),this._itemNodePool.push(d))}}},p.getTerritoryTeamId=function(t){return null==this._territorys[t]?-2:this._territorys[t].teamId},p.getTerritory=function(t){return null==this._territorys[t]?null:this._territorys[t]},p.checkMapBox=function(t){},i}(p)).Event={LOAD_COMPLETE:"LOAD_COMPLETE",LOAD_ERROR:"LOAD_ERROR",LOAD_PROGRESS:"LOAD_PROGRESS"},i._RF.pop()}}}));

System.register("chunks:///_virtual/MapTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,a,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,r=t._decorator,i=t.Component}],execute:function(){var s;a._RF.push({},"aaa6fy0K6JCgpNlsarmK29i","MapTest",void 0);var n=r.ccclass;r.property,t("MapTest",n("MapTest")(s=function(t){function a(){for(var e,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._map=null,e}e(a,t);var r=a.prototype;return r.start=function(){},r.update=function(t){},r.createCamp=function(){for(var t=[243,244,245,246,247,248,249,204,205,206,207,208,165,166,167,126,284,285,286,287,288,325,326,327,366],e=[270,271,272,273,274,275,276,231,232,233,234,235,192,193,194,153,311,312,313,314,315,352,353,354,393],a=[923,924,925,926,927,928,929,884,885,886,887,888,845,846,847,806,964,965,966,967,968,1005,1006,1007,1046],r=[950,951,952,953,954,955,956,911,912,913,914,915,872,873,874,833,991,992,993,994,995,1032,1033,1034,1073],i=0;i<e.length;i++)this._map.updateTerritory(t[i],0),this._map.updateTerritory(e[i],1),this._map.updateTerritory(a[i],2),this._map.updateTerritory(r[i],3)},r.createPlayer=function(){var t=this._map.createPlayer(0,"1");t.setIndexPosition(246),this._map.addPlayer(t);var e=this._map.createPlayer(1,"2");e.setIndexPosition(273),this._map.addPlayer(e);var a=this._map.createPlayer(2,"3");a.setIndexPosition(926),this._map.addPlayer(a);var r=this._map.createPlayer(3,"4");r.setIndexPosition(953),this._map.addPlayer(r)},a}(i))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/Net.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,o,t,r;return{setters:[function(e){n=e.inheritsLoose,o=e.assertThisInitialized},function(e){t=e.cclegacy,r=e.EventTarget}],execute:function(){t._RF.push({},"1c72b23+dZOzYb/hCPqZSOA","Net",void 0),e("default",function(e){function t(n){var t;return(t=e.call(this)||this)._ws=null,t._ws=new WebSocket(n),t._ws.binaryType="arraybuffer",t._ws.onopen=t.onOpen.bind(o(t)),t._ws.onmessage=t.onMessage.bind(o(t)),t._ws.onerror=t.onError.bind(o(t)),t._ws.onclose=t.onClose.bind(o(t)),t}n(t,e);var r=t.prototype;return r.onOpen=function(e,n){console.log("ws.protocol = "+e.protocol,e.binaryType);var o=new ArrayBuffer(1),t=new DataView(o);t.setUint8(0,1),this._ws.send(t.buffer)},r.onMessage=function(e){if(e.data){var n=new DataView(e.data),o={id:n.getInt32(0),x:n.getFloat64(4),y:n.getFloat64(12)};console.log("kkkkk: ",o),this.emit(t.Event.PUSH_MSG,o)}else console.error("onMessage err, data = ",e.data)},r.onError=function(e){console.log("onError = ",e)},r.onClose=function(e){console.log("onClose = ",e)},t}(r)).Event={PUSH_MSG:"PUSH_MSG"},t._RF.pop()}}}));

System.register("chunks:///_virtual/NetErrorPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,o,c;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){n=e.cclegacy,o=e._decorator,c=e.Component}],execute:function(){var i;n._RF.push({},"ff00fUbRgxOHIAOw3hlAkg+","NetErrorPanel",void 0);var s=o.ccclass;e("NetErrorPanel",s("NetErrorPanel")(i=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.showUI=function(){this.node.active=!0},o.closeUI=function(){this.node.active=!1},r(n,[{key:"isShow",get:function(){return this.node.active}}]),n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/Network.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,s,n;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,n=e.EventTarget}],execute:function(){s._RF.push({},"c0e29JjGGREX6dRXVk+Fm+t","Network",void 0);e("default",function(e){function s(){var t;return(t=e.call(this)||this)._initCallback=null,t._handshakeCallback=null,t._maxReconnectAttempts=3,t._maxHeartbeatTimeoutTimes=2,t._gapThreshold=100,t._reconnectionDelay=5e3,t._needSeedHandshake=!0,t._reconnectUrl=null,t._reconnect=!1,t._reconnectAttempts=0,t._reconncetTimer=0,t._socket=null,t._handlers={},t._callbacks={},t._reqId=0,t._routeMap={},t._dict={},t._abbrs={},t._heartbeatId=0,t._heartbeatTimeout=0,t._heartbeatTimeoutId=-1,t._nextHeartbeatTimeout=0,t._heartbeatInterval=0,t._encode=null,t._decode=null,t._package=null,t._message=null,t._protocol=null,t._logLevel=0,t._routeLogFilter=[],t}t(s,e);var n=s.prototype;return n.setLogLevel=function(e){this._logLevel=e,this._package.setLogLevel(this._logLevel),this._message.setLogLevel(this._logLevel)},n.addLogRouteFilter=function(e){this._routeLogFilter.push(e)},n.init=function(e,t){this._initCallback=t,this._package=e.package,this._message=e.message,this._protocol=e.protocol,this._logLevel=e.logLevel||this._logLevel,null!=this._package&&null!=this._message&&null!=this._protocol?(this._protocol.owner=this,this._message.owner=this,this._package.owner=this,this._protocol.setLogLevel(this._logLevel),this._package.setLogLevel(this._logLevel),this._message.setLogLevel(this._logLevel),this._encode=e.encode||this.defaultEncode,this._decode=e.decode||this.defaultDecode,this._maxReconnectAttempts=e.maxReconnectAttempts||this._maxReconnectAttempts,this._maxHeartbeatTimeoutTimes=e.maxHeartbeatTimeoutTimes||this._maxHeartbeatTimeoutTimes,null!=e.needSeedHandshake&&(this._needSeedHandshake=e.needSeedHandshake),this._reqId=0,this._handshakeCallback=e.handshakeCallback,this.connect(e,e.url,t)):this._logLevel>=1&&console.error("Network: init fail, please protocol instance.")},n.connect=function(e,t,i){this._reconnectUrl=t;var n=e||{},o=this;this.initHandlers(),this._socket=new WebSocket(t),this._socket.binaryType="arraybuffer",this._socket.onopen=this.onOpen.bind(this),this._socket.onmessage=this.onMessage.bind(this),this._socket.onerror=this.onError.bind(this),this._socket.onclose=function(e){o.emit(s.Event.CLOSE,e),o.emit(s.Event.DISCONNECT,e),this._logLevel>=1&&console.error("Network.onClose: reconnect = ",n.reconnect+", reconnect time = "+Math.ceil(o._reconnectionDelay/1e3)),n.reconnect&&o._reconnectAttempts<o._maxReconnectAttempts&&(o._reconnect=!0,o._reconnectAttempts++,o._reconncetTimer=setTimeout((function(){o.connect(n,o._reconnectUrl,i)}),o._reconnectionDelay),o._reconnectionDelay*=2)}},n.initHandlers=function(){this._handlers[this._package.TYPE_HANDSHAKE]=this.handshake.bind(this),this._handlers[this._package.TYPE_HEARTBEAT]=this.heartbeat.bind(this),this._handlers[this._package.TYPE_DATA]=this.onData.bind(this),this._handlers[this._package.TYPE_KICK]=this.onKick.bind(this)},n.request=function(e,t,i){2===arguments.length&&"function"==typeof t?(i=t,t={}):t=t||{},(e=e||t.route)&&(this._reqId++,this.sendMessage(this._reqId,e,t),this._callbacks[this._reqId]=i,this._routeMap[this._reqId]=e)},n.notify=function(e,t){t=t||{},this.sendMessage(0,e,t)},n.sendMessage=function(e,t,i){this._encode&&(i=this._encode(e,t,i));var s=this._package.encode(this._package.TYPE_DATA,i);this.send(s)},n.disconnect=function(){if(this._socket){var e=this._socket;e.disconnect&&e.disconnect(),e.close&&e.close(),this._socket=null}this._heartbeatId>0&&(clearTimeout(this._heartbeatId),this._heartbeatId=0),this._heartbeatTimeoutId>-1&&(clearTimeout(this._heartbeatTimeoutId),this._heartbeatTimeoutId=-1)},n.onOpen=function(){if(1==this._reconnect&&this.emit(s.Event.RECONNECT),this.reset(),1==this._needSeedHandshake){var e=this._package.encode(this._package.TYPE_HANDSHAKE,this._package.strencode(JSON.stringify(this._package.handshakeBuffer)));this.send(e.buffer)}},n.reset=function(){this._reconnect=!1,this._reconnectionDelay=5e3,this._reconnectAttempts=0,this._reconncetTimer>0&&(clearTimeout(this._reconncetTimer),this._reconncetTimer=0)},n.onMessage=function(e){this.processPackage(this._package.decode(e.data)),this._heartbeatTimeout&&(this._nextHeartbeatTimeout=Date.now()+this._heartbeatTimeout)},n.onError=function(){this.emit(s.Event.IO_ERROR),this._logLevel>=1&&console.error("Network.onError: io-error")},n.send=function(e){this._socket&&this._socket.send(e)},n.processPackage=function(e){if(null!=e)if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t],s=this._package.getPckType(i),n=this._handlers[s];if(null!=n)n(this._package.getPckBody(i))}else{var o=this._package.getPckType(e),a=this._handlers[o];if(null!=a)a(this._package.getPckBody(e))}},n.processMessage=function(e){if(e.id){var t=this._callbacks[e.id];delete this._callbacks[e.id],"function"==typeof t&&(t(e.body),this.emit(s.Event.ON_MSG,e.route,e))}else this.emit(s.Event.ON_PUSH,e.route,e.body)},n.heartbeat=function(){var e=this;if(!(this._heartbeatInterval<=0||(this._heartbeatTimeoutId&&(clearTimeout(this._heartbeatTimeoutId),this._heartbeatTimeoutId=0),this._heartbeatId))){var t=this._package.encode(this._package.TYPE_HEARTBEAT);this._heartbeatId=setTimeout((function(){e._heartbeatId=0,e.send(t.buffer),e._nextHeartbeatTimeout=Date.now()+e._heartbeatTimeout,e._heartbeatTimeoutId=setTimeout(e.heartbeatTimeoutCb.bind(e),e._heartbeatTimeout)}),this._heartbeatInterval)}},n.heartbeatTimeoutCb=function(){var e=this._nextHeartbeatTimeout-Date.now();e>this._gapThreshold?this._heartbeatTimeoutId=setTimeout(this.heartbeatTimeoutCb.bind(this),e):(this.emit(s.Event.HEARTBEAT_TIMEOUT),this._logLevel>=1&&console.error("Network: heartbeat timeout"),this.disconnect())},n.handshake=function(e){var t=this._protocol.strdecode(e),i=JSON.parse(t);if(501===i.code)return this.emit(s.Event.RES_ERROR,i.code,"client version old!"),void(this._logLevel>=1&&console.error("Network: client version old!"));if(200===i.code){this.handshakeInit(i);var n=this._package.encode(this._package.TYPE_HANDSHAKE_ACK);this.send(n.buffer),this._initCallback&&this._initCallback(this)}else this.emit(s.Event.RES_ERROR,i.code,"handshake fail!")},n.handshakeInit=function(e){e.sys&&e.sys.heartbeat?(this._heartbeatInterval=1e3*e.sys.heartbeat,this._heartbeatTimeout=this._heartbeatInterval*this._maxHeartbeatTimeoutTimes):(this._heartbeatInterval=0,this._heartbeatTimeout=0),this.initData(e),this._handshakeCallback instanceof Function&&this._handshakeCallback(e.user)},n.initData=function(e){if(e&&e.sys){var t=e.sys.dict;if(t)for(var i in this._dict=t,this._abbrs={},t)this._abbrs[t[i]]=i}},n.onData=function(e){var t=e;this._decode&&(t=this._decode(t)),this.processMessage(t)},n.onKick=function(e){this.emit(s.Event.ON_KICK,e)},n.defaultEncode=function(e,t,i){var s=e?this._message.TYPE_REQUEST:this._message.TYPE_NOTIFY;i=this._protocol.strencode(JSON.stringify(i));var n=0;return this._dict&&this._dict[t]&&(t=this._dict[t],n=1),this._message.encode(e,s,n,t,i)},n.defaultDecode=function(e){var t=this._message.decode(e);if(!(t.id>0)||(t.route=this._routeMap[t.id],delete this._routeMap[t.id],t.route))return t.body=this.deCompose(t),t},n.deCompose=function(e){var t=e.route;if(e.compressRoute){if(!this._abbrs[t])return{};t=e.route=this._abbrs[t]}var i=this._protocol.strdecode(e.body);return JSON.parse(i)},n.emit=function(t,i,s){void 0===i&&(i=null),void 0===s&&(s=null),e.prototype.emit.call(this,t,i,s)},i(s,[{key:"message",get:function(){return this._message}},{key:"protocol",get:function(){return this._protocol}},{key:"package",get:function(){return this._package}}]),s}(n)).Event={CLOSE:"close",DISCONNECT:"disconnect",RECONNECT:"reconnect",IO_ERROR:"io-error",RES_ERROR:"error",HEARTBEAT_TIMEOUT:"heartbeat_timeout",ON_KICK:"onKick",ON_MSG:"onMsg",ON_PUSH:"onPush"},s._RF.pop()}}}));

System.register("chunks:///_virtual/NFTSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,a=t.Component}],execute:function(){var r;n._RF.push({},"592b5MOhWhJ66H+RDz5Wxz6","NFTSDK",void 0);var c=o.ccclass,s=(o.property,t("nftsdk",window.nftsdk||{createNTFFromGame:function(t){console.error("not found ntfsdk.createNTFFromGame Function."),t&&t.cb&&t.cb(t.id)},gameInit:function(){console.error("not found ntfsdk.gameInit Function.")},gameLoadProgress:function(t){console.error("not found ntfsdk.gameLoadProgress Function.")},gameInitComplete:function(){console.error("not found ntfsdk.gameInitComplete Function.")},getUserData:function(t){console.error("not found ntfsdk.getUserData Function."),t&&t({assets:[]})},setUpdateUserDataCallback:function(t){console.error("not found ntfsdk.setUpdateUserDataCallback Function."),window.rpggame.updateUserDataCallback=t}}));t("NFTSDK",c("NFTSDK")(r=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.gameInit=function(){s&&s.gameInit&&s.gameInit()},o.gameInitComplete=function(){s&&s.gameInitComplete&&s.gameInitComplete()},o.createNTFFromGame=function(t,e){s&&s.createNTFFromGame&&s.createNTFFromGame({id:t,cb:e})},o.getUserInfo=function(t){s&&s.getUserData&&s.getUserData(t)},o.setUpdateUserDataCallback=function(t){s&&s.setUpdateUserDataCallback&&s.setUpdateUserDataCallback(t)},n}(a))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,i,n,s,a;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,i=t.math,n=t._decorator,s=t.v3,a=t.Component}],execute:function(){var r;e._RF.push({},"e2315bDb2JLZYwJGIl58vZh","Player",void 0);var c=n,h=c.ccclass;c.property,t("Player",h("Player")(r=function(t){function e(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this).playerId=null,o.teamId=0,o.map=null,o.speed=.1,o.width=30,o.height=30,o._pos=s(0,0),o._targetPos={x:0,y:0},o._offsetX=0,o._offsetY=0,o._angel=0,o._gridPos={x:0,y:0},o}o(e,t);var n=e.prototype;return n.setPosition=function(t,o,e){this._targetPos.x=t,this._targetPos.y=o,e&&this.node.setPosition(t,o)},n.setGridPosition=function(t,o){this.map.gridToMapPosition(t,o,this.node.position)},n.setIndexPosition=function(t){this.map.indexToMapPosition(t,this.node.position)},n.setMoveAngel=function(t){this._angel=t;var o=i.toRadian(this._angel);this._offsetX=Math.cos(o)*this.speed,this._offsetY=Math.sin(o)*this.speed},n.onLoad=function(){},n.update=function(t){},e}(a))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ProtocolBase.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ed5beNOzSlDZYy6Gm/+xJkk","ProtocolBase",void 0);var n=e("copyByteArray",(function(e,t,n,r,s){for(var o=0;o<s;o++)e[t++]=n[r++]}));e("ProtocolBase",function(){function e(){this.owner=null,this._logLevel=0}var t=e.prototype;return t.setLogLevel=function(e){this._logLevel=e},t.strencode=function(e){for(var t=new Uint8Array(3*e.length),r=0,s=0;s<e.length;s++){var o=e.charCodeAt(s),i=null;i=o<=127?[o]:o<=2047?[192|o>>6,128|63&o]:[224|o>>12,128|(4032&o)>>6,128|63&o];for(var h=0;h<i.length;h++)t[r]=i[h],++r}var u=new Uint8Array(r);return n(u,0,t,0,r),u},t.strdecode=function(e){for(var t=new Uint8Array(e),n=[],r=0,s=0,o=t.length;r<o;)t[r]<128?(s=t[r],r+=1):t[r]<224?(s=((63&t[r])<<6)+(63&t[r+1]),r+=2):(s=((15&t[r])<<12)+((63&t[r+1])<<6)+(63&t[r+2]),r+=3),n.push(s);return String.fromCharCode.apply(null,n)},e}()),e("PackageBase",function(){function e(){this.TYPE_HANDSHAKE=1,this.TYPE_HANDSHAKE_ACK=2,this.TYPE_HEARTBEAT=3,this.TYPE_DATA=4,this.TYPE_KICK=5,this.PKG_HEAD_BYTES=4,this.JS_WS_CLIENT_TYPE="js-websocket",this.JS_WS_CLIENT_VERSION="0.0.1",this.owner=null,this._logLevel=0,this.handshakeBuffer={sys:{type:this.JS_WS_CLIENT_TYPE,version:this.JS_WS_CLIENT_VERSION},user:{}}}var t=e.prototype;return t.setLogLevel=function(e){this._logLevel=e},t.getPckType=function(e){return e.type},t.getPckBody=function(e){return e.body},t.strencode=function(e){for(var t=new Uint8Array(3*e.length),r=0,s=0;s<e.length;s++){var o=e.charCodeAt(s),i=null;i=o<=127?[o]:o<=2047?[192|o>>6,128|63&o]:[224|o>>12,128|(4032&o)>>6,128|63&o];for(var h=0;h<i.length;h++)t[r]=i[h],++r}var u=new Uint8Array(r);return n(u,0,t,0,r),u},t.encode=function(e,t){void 0===t&&(t=null);var r=t?t.length:0,s=new Uint8Array(this.PKG_HEAD_BYTES+r),o=0;return s[o++]=255&e,s[o++]=r>>16&255,s[o++]=r>>8&255,s[o++]=255&r,t&&n(s,4,t,0,r),s},t.decode=function(e){for(var t=0,r=new Uint8Array(e),s=0,o=[];t<r.length;){var i=r[t++],h=(s=(r[t++]<<16|r[t++]<<8|r[t++])>>>0)?new Uint8Array(s):null;n(h,0,r,t,s),t+=s,o.push({type:i,body:h})}return 1===o.length?o[0]:o},e}()),e("MessageBase",function(){function e(){this.TYPE_REQUEST=0,this.TYPE_NOTIFY=1,this.TYPE_RESPONSE=2,this.TYPE_PUSH=3,this.MSG_FLAG_BYTES=1,this.MSG_ROUTE_CODE_BYTES=2,this.MSG_ROUTE_LEN_BYTES=1,this.MSG_ROUTE_CODE_MAX=65535,this.MSG_COMPRESS_ROUTE_MASK=1,this.MSG_TYPE_MASK=7,this.owner=null,this._logLevel=0}var t=e.prototype;return t.setLogLevel=function(e){this._logLevel=e},t.getMsgBody=function(e){return e.msg},t.msgHasId=function(e){return e===this.TYPE_REQUEST||e===this.TYPE_RESPONSE},t.encodeMsgId=function(e,t,n){do{var r=e%128,s=Math.floor(e/128);0!==s&&(r+=128),t[n++]=r,e=s}while(0!==e);return n},t.caculateMsgIdBytes=function(e){var t=0;do{t+=1,e>>=7}while(e>0);return t},t.msgHasRoute=function(e){return e===this.TYPE_REQUEST||e===this.TYPE_NOTIFY||e===this.TYPE_PUSH},t.encodeMsgFlag=function(e,t,n,r){if(e!==this.TYPE_REQUEST&&e!==this.TYPE_NOTIFY&&e!==this.TYPE_RESPONSE&&e!==this.TYPE_PUSH)throw new Error("MessageBase.encodeMsgFlag: unkonw message type = "+e);return n[r]=e<<1|(t?1:0),r+this.MSG_FLAG_BYTES},t.encodeMsgBody=function(e,t,r){return n(t,r,e,0,e.length),r+e.length},t.encodeMsgRoute=function(e,t,r,s){if(e){if(t>this.MSG_ROUTE_CODE_MAX)throw new Error("MessageBase.encodeMsgRoute: route number is overflow");r[s++]=t>>8&255,r[s++]=255&t}else t?(r[s++]=255&t.length,n(r,s,t,0,t.length),s+=t.length):r[s++]=0;return s},t.encode=function(e,t,n,r,s){var o=this.msgHasId(t)?this.caculateMsgIdBytes(e):0,i=this.MSG_FLAG_BYTES+o;if(this.msgHasRoute(t))if(n){if("number"!=typeof r)throw new Error("MessageBase.encode: error flag for number route!");i+=this.MSG_ROUTE_CODE_BYTES}else if(i+=this.MSG_ROUTE_LEN_BYTES,r){if((r=this.owner.protocol.strencode(r)).length>255)throw new Error("MessageBase.encode: route maxlength is overflow");i+=r.length}s&&(i+=s.length);var h=new Uint8Array(i),u=0;return u=this.encodeMsgFlag(t,n,h,u),this.msgHasId(t)&&(u=this.encodeMsgId(e,h,u)),this.msgHasRoute(t)&&(u=this.encodeMsgRoute(n,r,h,u)),s&&(u=this.encodeMsgBody(s,h,u)),h},t.decode=function(e){var t=new Uint8Array(e),r=t.length||t.byteLength,s=0,o=0,i=null,h=t[s++],u=h&this.MSG_COMPRESS_ROUTE_MASK,a=h>>1&this.MSG_TYPE_MASK;if(this.msgHasId(a)){var _=parseInt(t[s].toString()),l=0;do{o+=(127&(_=parseInt(t[s].toString())))*Math.pow(2,7*l),s++,l++}while(_>=128)}if(this.msgHasRoute(a))if(u)i=t[s++]<<8|t[s++];else{var E=t[s++];E?(i=new Uint8Array(E),n(i,0,t,s,E),i=this.owner.protocol.strdecode(i)):i="",s+=E}var c=r-s,g=new Uint8Array(c);return n(g,0,t,s,c),{id:o,type:a,compressRoute:u,route:i,body:g}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SettlementPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,l,s,c,r,a,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){s=t.cclegacy,c=t.Node,r=t.Label,a=t._decorator,o=t.Component}],execute:function(){var h,d,u,m,b,p,f,_,v;s._RF.push({},"7f5d27KnPtDRaDtOYxmnk7b","SettlementPanel",void 0);var g=a,y=g.ccclass,T=g.property;t("SettlementPanel",(h=y("SettlementPanel"),d=T([c]),u=T([c]),m=T(r),h((f=e((p=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s))||this,n(e,"teamIcons",f,l(e)),n(e,"teamTitles",_,l(e)),n(e,"lblCd",v,l(e)),e._cd=0,e._callback=null,e}i(e,t);var s=e.prototype;return s.showUI=function(t,e){this.node.active=!0,this._callback=e,t.cd?this._cd=parseInt(t.cd):this._cd=15;for(var i=1;i<this.teamIcons.length;i++)null!=this.teamIcons[i]&&null!=this.teamTitles[i]&&(i==t.winner?(this.teamIcons[i].active=!0,this.teamTitles[i].active=!0):(this.teamIcons[i].active=!1,this.teamTitles[i].active=!1));this._cd>=10?this.lblCd.string="00:"+this._cd:this.lblCd.string="00:0"+this._cd,this.unschedule(this.cdTimeHandler);var n=this._cd;this.schedule(this.cdTimeHandler,1,n,0)},s.cdTimeHandler=function(){if(this._cd-=1,this._cd<=0){this.lblCd.string="00:00",this.unschedule(this.cdTimeHandler);var t=this._callback;t&&(t(),this._callback=null)}this._cd>=10?this.lblCd.string="00:"+this._cd:this.lblCd.string="00:0"+this._cd},s.closeUI=function(){this.node.active=!1,this.lblCd.string="00:00",this.unschedule(this.cdTimeHandler)},s.start=function(){},e}(o)).prototype,"teamIcons",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(p.prototype,"teamTitles",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(p.prototype,"lblCd",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=p))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/Territory.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var t,o,e,n,s,i,c;return{setters:[function(r){t=r.inheritsLoose,o=r.createClass},function(r){e=r.cclegacy,n=r.Sprite,s=r._decorator,i=r.Color,c=r.Component}],execute:function(){var u;e._RF.push({},"958de1R6sBJ17spJuwpYWre","Territory",void 0);var p=s,l=p.ccclass;p.property,r("Territory",l("Territory")(u=function(r){function e(){for(var t,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(t=r.call.apply(r,[this].concat(e))||this).index=0,t.gridX=0,t.gridY=0,t.teamId=-1,t.map=null,t._sp=null,t}t(e,r);var s=e.prototype;return s.onLoad=function(){this._sp=this.getComponent(n)},s.onTouchEnd=function(r){},o(e,[{key:"color",get:function(){return this._sp?this._sp.color:i.WHITE},set:function(r){this._sp&&(this._sp.color=r)}}]),e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/TerritoryProtocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProtocolBase.ts"],(function(t){"use strict";var r,e,o,n,i;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.ProtocolBase,n=t.PackageBase,i=t.MessageBase}],execute:function(){e._RF.push({},"a8fcd2NecZL8IgMpmfb/oe0","TerritoryProtocol",void 0);t("TerritoryProtocol",function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(o)),t("TerritoryPackage",function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(n)),t("TerritoryMessage",function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(i));e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});